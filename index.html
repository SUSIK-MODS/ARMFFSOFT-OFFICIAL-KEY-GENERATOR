<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARMFFSOFT - –õ–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω—ã–µ –∫–ª—é—á–∏ | mypdftools.site</title>
    <meta name="description" content="–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ª–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω—ã—Ö –∫–ª—é—á–µ–π ARMFFSOFT">
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js"></script>
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { 
            background: linear-gradient(135deg, #0c2461, #1e3799, #4a69bd);
            color: white; 
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        
        /* Header —Å —Ç–≤–æ–∏–º –±—Ä–µ–Ω–¥–æ–º */
        .brand-header { 
            background: rgba(255,255,255,0.1);
            padding: 40px;
            border-radius: 20px;
            margin-bottom: 30px;
            text-align: center;
            border: 2px solid #e74c3c;
            box-shadow: 0 10px 30px rgba(231, 76, 60, 0.3);
        }
        .brand-title { 
            font-size: 3em; 
            margin-bottom: 10px;
            background: linear-gradient(45deg, #e74c3c, #f39c12);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 5px 15px rgba(231, 76, 60, 0.5);
        }
        .brand-subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }
        .domain-badge {
            display: inline-block;
            background: #e74c3c;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            margin-top: 10px;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .panel {
            background: rgba(255,255,255,0.08);
            padding: 25px;
            border-radius: 15px;
            border: 1px solid rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
        }
        
        .panel-title {
            font-size: 1.4em;
            margin-bottom: 20px;
            color: #f39c12;
            border-bottom: 2px solid #f39c12;
            padding-bottom: 10px;
        }
        
        .form-group { margin-bottom: 15px; }
        .form-label { display: block; margin-bottom: 5px; font-weight: bold; }
        .form-input { 
            width: 100%; 
            padding: 12px 15px;
            border: none;
            border-radius: 8px;
            background: rgba(255,255,255,0.1);
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
            transition: all 0.3s ease;
        }
        .form-input:focus {
            outline: none;
            border-color: #e74c3c;
            box-shadow: 0 0 10px rgba(231, 76, 60, 0.3);
        }
        
        .btn {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            border: none;
            padding: 12px 25px;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            margin: 5px;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.4);
        }
        .btn-secondary {
            background: linear-gradient(45deg, #3498db, #2980b9);
        }
        
        .key-display {
            background: rgba(0,0,0,0.3);
            border: 2px solid #27ae60;
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
            display: none;
            animation: slideIn 0.5s ease;
        }
        
        .key-text {
            font-size: 1.8em;
            font-weight: bold;
            color: #27ae60;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            text-shadow: 0 0 10px rgba(39, 174, 96, 0.5);
        }
        
        .users-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
            max-height: 500px;
            overflow-y: auto;
        }
        
        .user-card {
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #e74c3c;
        }
        
        .status-active { color: #27ae60; }
        .status-expired { color: #e74c3c; }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .dashboard { grid-template-columns: 1fr; }
            .brand-title { font-size: 2em; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –ë—Ä–µ–Ω–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ö–µ–¥–µ—Ä -->
        <header class="brand-header">
            <h1 class="brand-title">üîë ARMFFSOFT KEYS</h1>
            <p class="brand-subtitle">–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–∏—Ü–µ–Ω–∑–∏—è–º–∏</p>
            <div class="domain-badge">mypdftools.site</div>
        </header>

        <!-- –û—Å–Ω–æ–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
        <div class="dashboard">
            <!-- –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ -->
            <div class="panel">
                <h3 class="panel-title">üëë –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h3>
                <div class="form-group">
                    <input type="password" id="adminPassword" class="form-input" placeholder="–ü–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞">
                </div>
                <button class="btn" onclick="loginAdmin()">üîê –í–æ–π—Ç–∏ –≤ –∞–¥–º–∏–Ω–∫—É</button>
                
                <div id="adminPanel" style="display:none; margin-top: 20px;">
                    <h4>–°–æ–∑–¥–∞—Ç—å –ª–∏—Ü–µ–Ω–∑–∏—é</h4>
                    <div class="form-group">
                        <input type="text" id="userName" class="form-input" placeholder="–ò–º—è –∫–ª–∏–µ–Ω—Ç–∞">
                    </div>
                    <div class="form-group">
                        <input type="email" id="userEmail" class="form-input" placeholder="Email –∫–ª–∏–µ–Ω—Ç–∞">
                    </div>
                    <div class="form-group">
                        <input type="text" id="userTelegram" class="form-input" placeholder="Telegram (@username)">
                    </div>
                    <div class="form-group">
                        <select id="daysValid" class="form-input">
                            <option value="7">7 –¥–Ω–µ–π</option>
                            <option value="30" selected>30 –¥–Ω–µ–π</option>
                            <option value="90">90 –¥–Ω–µ–π</option>
                            <option value="365">1 –≥–æ–¥</option>
                        </select>
                    </div>
                    <button class="btn" onclick="generateUserKey()">üé´ –°–æ–∑–¥–∞—Ç—å –ª–∏—Ü–µ–Ω–∑–∏—é</button>
                </div>
            </div>

            <!-- –ü–∞–Ω–µ–ª—å –ø—Ä–æ–≤–µ—Ä–∫–∏ -->
            <div class="panel">
                <h3 class="panel-title">üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏—Ü–µ–Ω–∑–∏–∏</h3>
                <div class="form-group">
                    <input type="text" id="checkKeyInput" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –ª–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω—ã–π –∫–ª—é—á">
                </div>
                <button class="btn" onclick="checkKey()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–ª—é—á</button>
                <div id="checkResult" style="margin-top: 15px;"></div>
            </div>
        </div>

        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ -->
        <div id="keyResult" class="key-display">
            <h3>‚úÖ –õ–∏—Ü–µ–Ω–∑–∏—è —Å–æ–∑–¥–∞–Ω–∞!</h3>
            <div class="key-text" id="generatedKey"></div>
            <div id="keyDetails"></div>
            <button class="btn" onclick="copyKey()">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á</button>
            <button class="btn btn-secondary" onclick="shareKey()">üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
        </div>

        <!-- –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
        <div class="panel">
            <h3 class="panel-title">üìä –ê–∫—Ç–∏–≤–Ω—ã–µ –ª–∏—Ü–µ–Ω–∑–∏–∏</h3>
            <div id="usersList" class="users-grid"></div>
        </div>
    </div>

    <script>
        // Firebase –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è mypdftools.site
        const firebaseConfig = {
            // –ó–ê–ú–ï–ù–ò –≠–¢–ò –î–ê–ù–ù–´–ï –ù–ê –°–í–û–ò –ò–ó FIREBASE
            apiKey: "your_api_key_here",
            authDomain: "your-project.firebaseapp.com",
            projectId: "your-project-id",
            storageBucket: "your-project.appspot.com",
            messagingSenderId: "123456789",
            appId: "your_app_id_here"
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        const ADMIN_PASSWORD = "armffsoft2024"; // –ü–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∞

        function loginAdmin() {
            const password = document.getElementById('adminPassword').value;
            if (password === ADMIN_PASSWORD) {
                document.getElementById('adminPanel').style.display = 'block';
                loadUsers();
                showNotification('–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞!', 'success');
            } else {
                showNotification('–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å!', 'error');
            }
        }

        function generateUserKey() {
            const name = document.getElementById('userName').value;
            const email = document.getElementById('userEmail').value;
            const telegram = document.getElementById('userTelegram').value;
            const days = parseInt(document.getElementById('daysValid').value);

            if (!name || !email) {
                showNotification('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–º—è –∏ email!', 'error');
                return;
            }

            const key = "ARMFFSOFT-" + 
                       Math.random().toString(36).substr(2, 6).toUpperCase() + "-" +
                       Math.random().toString(36).substr(2, 6).toUpperCase() + "-" +
                       Math.random().toString(36).substr(2, 6).toUpperCase();

            const created = new Date();
            const expires = new Date();
            expires.setDate(expires.getDate() + days);

            db.collection("licenses").add({
                name: name,
                email: email,
                telegram: telegram,
                key: key,
                created: firebase.firestore.Timestamp.fromDate(created),
                expires: firebase.firestore.Timestamp.fromDate(expires),
                status: "active",
                domain: "mypdftools.site"
            })
            .then(() => {
                document.getElementById('generatedKey').textContent = key;
                document.getElementById('keyDetails').innerHTML = `
                    <p><strong>–ö–ª–∏–µ–Ω—Ç:</strong> ${name}</p>
                    <p><strong>Email:</strong> ${email}</p>
                    <p><strong>Telegram:</strong> ${telegram || '–ù–µ —É–∫–∞–∑–∞–Ω'}</p>
                    <p><strong>–°—Ä–æ–∫:</strong> ${days} –¥–Ω–µ–π</p>
                    <p><strong>–ò—Å—Ç–µ–∫–∞–µ—Ç:</strong> ${expires.toLocaleDateString('ru-RU')}</p>
                `;
                document.getElementById('keyResult').style.display = 'block';
                loadUsers();
                showNotification('–õ–∏—Ü–µ–Ω–∑–∏—è —Å–æ–∑–¥–∞–Ω–∞!', 'success');
            })
            .catch(error => {
                showNotification('–û—à–∏–±–∫–∞: ' + error.message, 'error');
            });
        }

        function loadUsers() {
            db.collection("licenses").orderBy("created", "desc").get().then((querySnapshot) => {
                const container = document.getElementById('usersList');
                container.innerHTML = '';
                
                querySnapshot.forEach((doc) => {
                    const user = doc.data();
                    const expires = user.expires.toDate();
                    const now = new Date();
                    const isActive = now < expires && user.status === "active";
                    
                    const userCard = document.createElement('div');
                    userCard.className = 'user-card';
                    userCard.innerHTML = `
                        <strong>${user.name}</strong>
                        <div style="font-size: 0.9em; margin: 5px 0;">
                            ${user.email}<br>
                            <code style="background: rgba(0,0,0,0.3); padding: 2px 5px; border-radius: 3px;">${user.key}</code>
                        </div>
                        <div class="${isActive ? 'status-active' : 'status-expired'}">
                            ${isActive ? '‚úÖ –ê–∫—Ç–∏–≤–µ–Ω' : '‚ùå –ò—Å—Ç–µ–∫'} –¥–æ ${expires.toLocaleDateString('ru-RU')}
                        </div>
                    `;
                    container.appendChild(userCard);
                });
            });
        }

        function checkKey() {
            const key = document.getElementById('checkKeyInput').value.trim();
            const resultDiv = document.getElementById('checkResult');
            
            if (!key) {
                resultDiv.innerHTML = '<div style="color: #e74c3c;">–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏</div>';
                return;
            }

            db.collection("licenses").where("key", "==", key).get()
            .then((querySnapshot) => {
                if (querySnapshot.empty) {
                    resultDiv.innerHTML = '<div style="color: #e74c3c;">‚ùå –õ–∏—Ü–µ–Ω–∑–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞</div>';
                } else {
                    querySnapshot.forEach((doc) => {
                        const license = doc.data();
                        const now = new Date();
                        const expires = license.expires.toDate();
                        const isValid = now < expires && license.status === "active";
                        
                        if (isValid) {
                            resultDiv.innerHTML = `
                                <div style="color: #27ae60;">
                                    <h4>‚úÖ –õ–∏—Ü–µ–Ω–∑–∏—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞</h4>
                                    <p><strong>–í–ª–∞–¥–µ–ª–µ—Ü:</strong> ${license.name}</p>
                                    <p><strong>Email:</strong> ${license.email}</p>
                                    <p><strong>–ò—Å—Ç–µ–∫–∞–µ—Ç:</strong> ${expires.toLocaleDateString('ru-RU')}</p>
                                    <p><strong>–û—Å—Ç–∞–ª–æ—Å—å –¥–Ω–µ–π:</strong> ${Math.ceil((expires - now) / (1000 * 60 * 60 * 24))}</p>
                                </div>
                            `;
                        } else {
                            resultDiv.innerHTML = `
                                <div style="color: #e74c3c;">
                                    <h4>‚ùå –õ–∏—Ü–µ–Ω–∑–∏—è –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞</h4>
                                    <p><strong>–í–ª–∞–¥–µ–ª–µ—Ü:</strong> ${license.name}</p>
                                    <p><strong>–ò—Å—Ç–µ–∫–ª–∞:</strong> ${expires.toLocaleDateString('ru-RU')}</p>
                                </div>
                            `;
                        }
                    });
                }
            })
            .catch((error) => {
                resultDiv.innerHTML = `<div style="color: #e74c3c;">–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏: ${error.message}</div>`;
            });
        }

        function copyKey() {
            const key = document.getElementById('generatedKey').textContent;
            navigator.clipboard.writeText(key).then(() => {
                showNotification('–ö–ª—é—á —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä!', 'success');
            });
        }

        function shareKey() {
            const key = document.getElementById('generatedKey').textContent;
            const details = document.getElementById('keyDetails').textContent;
            const text = `üîë –í–∞—à –ª–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω—ã–π –∫–ª—é—á ARMFFSOFT:\n\n${key}\n\n${details}\n\n–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –Ω–∞: mypdftools.site`;
            
            if (navigator.share) {
                navigator.share({
                    title: '–õ–∏—Ü–µ–Ω–∑–∏—è ARMFFSOFT',
                    text: text
                });
            } else {
                navigator.clipboard.writeText(text).then(() => {
                    showNotification('–î–∞–Ω–Ω—ã–µ –¥–ª—èÂàÜ‰∫´ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã!', 'success');
                });
            }
        }

        function showNotification(message, type) {
            // –ü—Ä–æ—Å—Ç–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            alert(message);
        }

        // –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
        document.addEventListener('DOMContentLoaded', function() {
            showNotification('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ ARMFFSOFT Key Manager!', 'info');
        });
    </script>
</body>
</html>
